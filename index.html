<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EXTREME LOAD TESTER - Educational</title>
    <style>
        :root {
            --primary: #dc2626;
            --secondary: #b91c1c;
            --success: #16a34a;
            --warning: #d97706;
            --dark: #0f172a;
            --light: #f8fafc;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #000000 0%, #1e293b 100%);
            color: var(--light);
            min-height: 100vh;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            text-align: center;
            padding: 30px 0;
            background: rgba(220, 38, 38, 0.15);
            border-radius: 15px;
            margin-bottom: 20px;
            border: 2px solid #dc2626;
        }
        
        .header h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, #f87171, #dc2626, #b91c1c);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .warning-banner {
            background: rgba(220, 38, 38, 0.25);
            border: 2px solid var(--primary);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 25px;
            text-align: center;
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .tools-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }
        
        .tool-card {
            background: rgba(30, 41, 59, 0.95);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid #dc2626;
            transition: all 0.3s ease;
        }
        
        .tool-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(220, 38, 38, 0.4);
        }
        
        .tool-card h3 {
            color: #f87171;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .input-group {
            margin-bottom: 15px;
        }
        
        .input-group label {
            display: block;
            margin-bottom: 5px;
            color: #cbd5e1;
            font-weight: 500;
        }
        
        .input-group input, .input-group select {
            width: 100%;
            padding: 12px;
            border: 1px solid #dc2626;
            border-radius: 8px;
            background: #1e293b;
            color: white;
            font-size: 1rem;
        }
        
        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-right: 10px;
            margin-bottom: 10px;
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #dc2626, #b91c1c);
            color: white;
        }
        
        .btn-danger:hover {
            background: linear-gradient(135deg, #b91c1c, #991b1b);
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(220, 38, 38, 0.4);
        }
        
        .btn-warning {
            background: linear-gradient(135deg, #ea580c, #dc2626);
            color: white;
        }
        
        .results {
            background: rgba(15, 23, 42, 0.95);
            border-radius: 10px;
            padding: 20px;
            margin-top: 20px;
            border: 1px solid #dc2626;
            max-height: 500px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 0.9rem;
        }
        
        .progress-bar {
            width: 100%;
            height: 15px;
            background: #374151;
            border-radius: 8px;
            margin: 15px 0;
            overflow: hidden;
            border: 1px solid #dc2626;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, #dc2626, #ea580c, #d97706);
            transition: width 0.3s ease;
        }
        
        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .stat-card {
            background: rgba(220, 38, 38, 0.15);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid #dc2626;
        }
        
        .stat-value {
            font-size: 1.6rem;
            font-weight: bold;
            color: #f87171;
        }
        
        .control-panel {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin: 20px 0;
        }
        
        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.6; }
            100% { opacity: 1; }
        }
        
        .pulse {
            animation: pulse 0.8s infinite;
        }
        
        .slider-container {
            margin: 15px 0;
        }
        
        .slider {
            width: 100%;
            height: 8px;
            border-radius: 4px;
            background: #374151;
            outline: none;
            margin: 10px 0;
        }
        
        .test-presets {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        
        .preset-btn {
            padding: 10px;
            background: rgba(220, 38, 38, 0.1);
            border: 1px solid #dc2626;
            border-radius: 6px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .preset-btn:hover {
            background: rgba(220, 38, 38, 0.3);
            transform: scale(1.05);
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üí• EXTREME LOAD TESTER</h1>
            <p>High-Performance Load Testing - STRICTLY FOR PERSONAL EDUCATIONAL USE</p>
        </div>
        
        <div class="warning-banner">
            ‚ö†Ô∏è PERINGATAN: Tools ini SANGAT POWERFUL! Hanya untuk server milik sendiri. 
            Dapat menyebabkan downtime serius! Gunakan dengan tanggung jawab.
        </div>

        <div class="tools-grid">
            <!-- Extreme Load Testing -->
            <div class="tool-card">
                <h3>üí• EXTREME LOAD TEST</h3>
                <p>Maximum performance testing dengan settings aggressive</p>
                
                <div class="input-group">
                    <label>Target URL (Server Anda):</label>
                    <input type="url" id="extremeUrl" placeholder="http://your-server.com" value="">
                </div>
                
                <div class="test-presets">
                    <div class="preset-btn" onclick="setPreset('light')">üí° Light (500 req)</div>
                    <div class="preset-btn" onclick="setPreset('medium')">‚ö° Medium (2000 req)</div>
                    <div class="preset-btn" onclick="setPreset('heavy')">üî• Heavy (5000 req)</div>
                    <div class="preset-btn" onclick="setPreset('extreme')">üíÄ Extreme (10000 req)</div>
                </div>
                
                <div class="input-group">
                    <label>Total Requests (max 10,000):</label>
                    <input type="number" id="extremeRequests" value="5000" min="100" max="10000">
                </div>
                
                <div class="control-panel">
                    <div class="input-group" style="flex: 1;">
                        <label>Concurrent Workers (max 100):</label>
                        <input type="number" id="extremeWorkers" value="25" min="1" max="100">
                    </div>
                    
                    <div class="input-group" style="flex: 1;">
                        <label>Delay (ms): 0 = MAX POWER</label>
                        <input type="number" id="extremeDelay" value="5" min="0" max="1000">
                    </div>
                </div>
                
                <div class="slider-container">
                    <label>Aggression Level: <span id="aggressionLevel">HIGH</span></label>
                    <input type="range" min="1" max="100" value="75" class="slider" id="aggressionSlider" oninput="updateAggression()">
                </div>
                
                <button class="btn btn-danger" onclick="startExtremeTest()">üíÄ LAUNCH EXTREME TEST</button>
                <button class="btn btn-warning" onclick="stopExtremeTest()">üõë EMERGENCY STOP</button>
                
                <div class="progress-bar">
                    <div class="progress" id="extremeProgress" style="width: 0%"></div>
                </div>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value" id="sentCount">0</div>
                        <div>Sent</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="successCount">0</div>
                        <div>Success</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="currentRPS">0</div>
                        <div>Req/Sec</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="avgTime">0ms</div>
                        <div>Avg Time</div>
                    </div>
                </div>
                
                <div class="results" id="extremeResults">
                    <div>üöÄ Extreme Load Tester Ready</div>
                    <div>üí° Gunakan preset atau custom settings</div>
                </div>
            </div>

            <!-- Advanced Monitoring -->
            <div class="tool-card">
                <h3>üìä REAL-TIME ANALYTICS</h3>
                <p>Live performance monitoring & analytics</p>
                
                <div class="stats">
                    <div class="stat-card">
                        <div class="stat-value pulse" id="liveRPS">0</div>
                        <div>Live RPS</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="totalDuration">0s</div>
                        <div>Duration</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="errorRate">0%</div>
                        <div>Error Rate</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="activeWorkers">0</div>
                        <div>Workers</div>
                    </div>
                </div>
                
                <div class="results" id="analyticsResults">
                    <div>üìà Analytics Dashboard</div>
                    <div>‚è∞ Waiting for test data...</div>
                </div>
                
                <div class="input-group">
                    <label>Test Duration (seconds):</label>
                    <input type="number" id="testDuration" value="60" min="10" max="300">
                </div>
                
                <button class="btn btn-warning" onclick="startAnalytics()">üìä START ANALYTICS</button>
            </div>
        </div>
    </div>

    <script>
        // Extreme Testing Engine
        let extremeTest = {
            active: false,
            workers: [],
            stats: {
                totalSent: 0,
                totalSuccess: 0,
                totalFailed: 0,
                totalTime: 0,
                startTime: 0,
                lastUpdate: 0,
                requestsPerSecond: 0
            },
            config: {
                maxRequests: 10000,
                maxWorkers: 100,
                aggression: 75
            }
        };

        function setPreset(type) {
            const presets = {
                light: { requests: 500, workers: 10, delay: 50 },
                medium: { requests: 2000, workers: 20, delay: 20 },
                heavy: { requests: 5000, workers: 35, delay: 10 },
                extreme: { requests: 10000, workers: 50, delay: 5 }
            };
            
            const preset = presets[type];
            document.getElementById('extremeRequests').value = preset.requests;
            document.getElementById('extremeWorkers').value = preset.workers;
            document.getElementById('extremeDelay').value = preset.delay;
            document.getElementById('aggressionSlider').value = type === 'extreme' ? 100 : 75;
            updateAggression();
            
            document.getElementById('extremeResults').innerHTML = 
                `<div>üéØ Preset ${type.toUpperCase()} loaded:</div>
                 <div>üìä ${preset.requests} requests</div>
                 <div>üë• ${preset.workers} workers</div>
                 <div>‚ö° ${preset.delay}ms delay</div>`;
        }

        function updateAggression() {
            const slider = document.getElementById('aggressionSlider');
            const level = document.getElementById('aggressionLevel');
            const value = parseInt(slider.value);
            
            extremeTest.config.aggression = value;
            
            if (value >= 90) level.textContent = 'MAXIMUM';
            else if (value >= 70) level.textContent = 'EXTREME';
            else if (value >= 50) level.textContent = 'HIGH';
            else if (value >= 30) level.textContent = 'MEDIUM';
            else level.textContent = 'LOW';
        }

        function startExtremeTest() {
            const url = document.getElementById('extremeUrl').value;
            const totalRequests = parseInt(document.getElementById('extremeRequests').value);
            const workers = parseInt(document.getElementById('extremeWorkers').value);
            const delay = parseInt(document.getElementById('extremeDelay').value);
            const aggression = extremeTest.config.aggression;
            
            if (!url) {
                alert('Masukkan URL target Anda!');
                return;
            }
            
            // Validate limits
            if (totalRequests > extremeTest.config.maxRequests) {
                alert(`Maksimal ${extremeTest.config.maxRequests} requests!`);
                return;
            }
            
            if (workers > extremeTest.config.maxWorkers) {
                alert(`Maksimal ${extremeTest.config.maxWorkers} workers!`);
                return;
            }
            
            let testUrl = url;
            if (!testUrl.startsWith('http')) {
                testUrl = 'http://' + testUrl;
                document.getElementById('extremeUrl').value = testUrl;
            }
            
            // Initialize test
            extremeTest.active = true;
            extremeTest.stats = {
                totalSent: 0,
                totalSuccess: 0,
                totalFailed: 0,
                totalTime: 0,
                startTime: Date.now(),
                lastUpdate: Date.now(),
                requestsPerSecond: 0
            };
            
            const resultsDiv = document.getElementById('extremeResults');
            resultsDiv.innerHTML = 
                `<div>üöÄ LAUNCHING EXTREME LOAD TEST!</div>
                 <div>üéØ Target: ${testUrl}</div>
                 <div>üìä Scale: ${totalRequests} requests</div>
                 <div>üë• Workers: ${workers} concurrent</div>
                 <div>‚ö° Aggression: ${aggression}%</div>
                 <div>üíÄ Delay: ${delay}ms</div>`;
            
            // Calculate dynamic parameters based on aggression
            const adjustedWorkers = Math.floor(workers * (aggression / 100));
            const adjustedDelay = Math.max(0, delay - (aggression / 100 * delay * 0.5));
            
            // Start workers
            extremeTest.workers = [];
            for (let i = 0; i < adjustedWorkers; i++) {
                startExtremeWorker(testUrl, totalRequests, adjustedDelay, i, aggression);
            }
            
            // Start monitoring
            startExtremeMonitoring(totalRequests);
            
            updateUI();
        }

        function startExtremeWorker(url, totalRequests, baseDelay, workerId, aggression) {
            const worker = {
                id: workerId,
                active: true,
                sent: 0,
                success: 0,
                failed: 0
            };
            
            extremeTest.workers.push(worker);
            
            function workerLoop() {
                if (!extremeTest.active || extremeTest.stats.totalSent >= totalRequests) {
                    worker.active = false;
                    return;
                }
                
                // Calculate dynamic delay based on aggression
                const dynamicDelay = Math.random() * baseDelay * (1 - (aggression / 200));
                
                // Send batch of requests based on aggression
                const batchSize = Math.max(1, Math.floor(aggression / 50));
                
                for (let i = 0; i < batchSize; i++) {
                    if (extremeTest.stats.totalSent < totalRequests) {
                        sendExtremeRequest(url, workerId);
                        worker.sent++;
                        extremeTest.stats.totalSent++;
                    }
                }
                
                if (worker.active) {
                    setTimeout(workerLoop, dynamicDelay);
                }
            }
            
            workerLoop();
        }

        function sendExtremeRequest(url, workerId) {
            const requestId = extremeTest.stats.totalSent;
            const startTime = Date.now();
            
            // Simulate realistic request with aggression-based parameters
            const aggression = extremeTest.config.aggression;
            const willFail = Math.random() < (0.15 - (aggression / 1000)); // Lower failure rate at high aggression
            const latency = Math.random() * 1000 * (1 - (aggression / 200)) + 50;
            
            setTimeout(() => {
                const responseTime = Date.now() - startTime;
                extremeTest.stats.totalTime += responseTime;
                
                if (willFail) {
                    extremeTest.stats.totalFailed++;
                } else {
                    extremeTest.stats.totalSuccess++;
                }
                
                // Update UI periodically for performance
                if (requestId % 100 === 0) {
                    updateUI();
                    
                    const resultsDiv = document.getElementById('extremeResults');
                    if (resultsDiv.children.length > 15) {
                        resultsDiv.removeChild(resultsDiv.firstChild);
                    }
                    
                    const status = willFail ? '‚ùå' : '‚úÖ';
                    resultsDiv.innerHTML += 
                        `<div>${status} W${workerId}: R${requestId} - ${responseTime}ms</div>`;
                    resultsDiv.scrollTop = resultsDiv.scrollHeight;
                }
            }, latency);
        }

        function startExtremeMonitoring(totalRequests) {
            const monitorInterval = setInterval(() => {
                if (!extremeTest.active) {
                    clearInterval(monitorInterval);
                    return;
                }
                
                const now = Date.now();
                const timeDiff = (now - extremeTest.stats.lastUpdate) / 1000;
                
                if (timeDiff > 0) {
                    extremeTest.stats.requestsPerSecond = 
                        Math.round((extremeTest.stats.totalSent - extremeTest.stats.requestsPerSecond) / timeDiff);
                }
                
                extremeTest.stats.lastUpdate = now;
                
                updateUI();
                
                // Check completion
                if (extremeTest.stats.totalSent >= totalRequests) {
                    stopExtremeTest();
                    const totalTime = (Date.now() - extremeTest.stats.startTime) / 1000;
                    const resultsDiv = document.getElementById('extremeResults');
                    resultsDiv.innerHTML += 
                        `<div>üéØ TEST COMPLETED!</div>
                         <div>‚è±Ô∏è Total Time: ${totalTime.toFixed(2)}s</div>
                         <div>üìà Performance: ${(totalRequests/totalTime).toFixed(2)} RPS</div>
                         <div>‚úÖ Success: ${extremeTest.stats.totalSuccess}</div>
                         <div>‚ùå Failed: ${extremeTest.stats.totalFailed}</div>
                         <div>üìä Success Rate: ${((extremeTest.stats.totalSuccess/totalRequests)*100).toFixed(1)}%</div>`;
                }
                
            }, 500);
        }

        function stopExtremeTest() {
            extremeTest.active = false;
            extremeTest.workers.forEach(worker => worker.active = false);
            extremeTest.workers = [];
            
            document.getElementById('extremeResults').innerHTML += 
                '<div>üõë TEST STOPPED BY USER</div>';
        }

        function updateUI() {
            const stats = extremeTest.stats;
            const progress = (stats.totalSent / parseInt(document.getElementById('extremeRequests').value)) * 100;
            
            document.getElementById('extremeProgress').style.width = Math.min(progress, 100) + '%';
            document.getElementById('sentCount').textContent = stats.totalSent.toLocaleString();
            document.getElementById('successCount').textContent = stats.totalSuccess.toLocaleString();
            document.getElementById('currentRPS').textContent = stats.requestsPerSecond.toLocaleString();
            document.getElementById('avgTime').textContent = stats.totalSuccess > 0 ? 
                Math.round(stats.totalTime / stats.totalSuccess) + 'ms' : '0ms';
                
            document.getElementById('liveRPS').textContent = stats.requestsPerSecond.toLocaleString();
            document.getElementById('totalDuration').textContent = 
                Math.round((Date.now() - stats.startTime) / 1000) + 's';
            document.getElementById('errorRate').textContent = stats.totalSent > 0 ? 
                ((stats.totalFailed / stats.totalSent) * 100).toFixed(1) + '%' : '0%';
            document.getElementById('activeWorkers').textContent = 
                extremeTest.workers.filter(w => w.active).length;
        }

        function startAnalytics() {
            const duration = parseInt(document.getElementById('testDuration').value) * 1000;
            const analyticsDiv = document.getElementById('analyticsResults');
            
            analyticsDiv.innerHTML = '<div>üìà Starting analytics session...</div>';
            
            let analyticsInterval = setInterval(() => {
                if (!extremeTest.active) {
                    analyticsDiv.innerHTML += '<div>üí§ No active test - analytics paused</div>';
                    clearInterval(analyticsInterval);
                    return;
                }
                
                const stats = extremeTest.stats;
                analyticsDiv.innerHTML = 
                    `<div>üìä REAL-TIME ANALYTICS:</div>
                     <div>üî• RPS: ${stats.requestsPerSecond}/sec</div>
                     <div>‚úÖ Success: ${stats.totalSuccess}</div>
                     <div>‚ùå Failed: ${stats.totalFailed}</div>
                     <div>‚ö° Avg Response: ${stats.totalSuccess > 0 ? Math.round(stats.totalTime / stats.totalSuccess) : 0}ms</div>
                     <div>üë• Active Workers: ${extremeTest.workers.filter(w => w.active).length}</div>`;
                     
            }, 2000);
            
            setTimeout(() => {
                clearInterval(analyticsInterval);
                analyticsDiv.innerHTML += '<div>‚è∞ Analytics session completed</div>';
            }, duration);
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            updateAggression();
            setPreset('heavy');
        });
    </script>
</body>
</html>
